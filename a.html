<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last Will Generator</title>
    <style>

        input{
            line-height: 25px;
            margin-bottom: 5px;
        }

        label{
            margin-top: 5px;
        }

        #willForm{
            padding: 5px;
            margin: 10px;
            margin: auto;
            max-width: 700px;
        }

        #willForm label{
            display: block;
        }

        #willForm input{
            width: 90%;
        }

        .newBen label{
            display: block;
        }

        .newBen{
            border: 1px solid grey;
            background-color: beige;
            padding: 10px;
            margin: 10px;
        }

        .newProp{
            border: 1px solid grey;
            background-color: gainsboro;
            padding: 10px;
            margin: 10px;
        }

        .benDiv{
            border: 1px solid grey;
            background-color: beige;
            padding: 10px;
            margin: 10px;
        }

        .percentage{
            width: 100px !important;
        }

        .beneficiary{
            width: 90%;
            height: 25px;
        }

        .button1{
            padding: 5px;
            margin: 5px;
            background-color: #8a5fa0;
            color: white;
            font-size: 18px;
            cursor: pointer;
            width: 150px;
        }

        .button2{
            padding: 10px;
            margin: auto;
            background-color: #134ea0;
            color: white;
            font-size: 18px;
            cursor: pointer;
            width: 250px;
        }

        .button3{
            padding: 2px;
            margin: 5px;
            background-color: #0b724e;
            color: white;
            font-size: 14px;
            cursor: pointer;
            width: 150px;
        }

        button:hover{
            background-color: black;
        }

        h1{
            background-color: black;
            color: white;
            padding: 10px;
            text-align: center;
            font-family: arial;
        }

        h2{
            background-color: rgb(128, 126, 126);
            color: white;
            padding: 5px;
            text-align: center;
            font-size: 18px;
            font-family: arial;
        }
    </style>
</head>
<body>
    
    <form id="willForm">
        <h1>Last Will Generator</h1>
        <h2>Your Information</h2>
        <label for="name">Name:</label>
        <input type="text" id="username" required>
        
        <label for="age">Age:</label>
        <input type="number" id="userage" required>
        
        <label for="relationship">Son/Daughter/Wife of:</label>
        <input type="text" id="userrelationship" required>
        
        <label for="address">Address:</label>
        <input type="text" id="useraddress" required>

        <h2>All Beneficiaries to get properties</h2>
        <div id="beneficiary-list">
            <!-- Beneficiary details will be added dynamically here -->
        </div>
        <button class="button1" type="button" id="add-beneficiary" onclick="addBeneficiary()">Add Beneficiary</button><br><br>



        <h2>List Properties and Assign Beneficiaries</h2>
        <div id="propertyList">
            <!-- Property details will be added dynamically -->
        </div>
        <button class="button1"  type="button" onclick="addProperty()">Add Property</button><br>

        <!-- <h2>Witnesses</h2>
        <label for="witness1">Witness 1:</label>
        <input type="text" id="witness1" required><br>
        
        <label for="witness2">Witness 2:</label>
        <input type="text" id="witness2" required><br> -->
        
        <br><br><button class="button2"  type="submit">Generate Will</button>
    </form>

    <div id="willContent" style="display: none;">
        <!-- Generated will content will be displayed here -->
    </div>

    <script>

        let beneficiaryCount = 0;
        let propertyCount = 0;

        function addBeneficiary(button) {
            beneficiaryCount++;
            const beneficiaryList = document.getElementById('beneficiary-list');
            const newBeneficiaryInput = document.createElement('div');
            newBeneficiaryInput.setAttribute("class", "newBen");
            newBeneficiaryInput.innerHTML = `
                <label for="beneficiary${beneficiaryCount}">Beneficiary ${beneficiaryCount} Name:</label>
                <input type="text" class="benName" id="beneficiary${beneficiaryCount}" required>

                <label for="relation">Relation:</label>
                <input type="text" class="relation" required>

                <label for="address">Address:</label>
                <input type="text" class="address" required>

            `;
            beneficiaryList.appendChild(newBeneficiaryInput);

            // const select = button.previousElementSibling;
            // const beneficiaryInput = document.createElement('input');
            // beneficiaryInput.type = 'text';
            // beneficiaryInput.placeholder = 'Beneficiary Name';
            // select.appendChild(beneficiaryInput);
        }

        
        function addProperty() {
            propertyCount++;
            // Add property input fields dynamically
            const propertyList = document.getElementById('propertyList');
            const propertyDiv = document.createElement('div');
            propertyDiv.setAttribute("class", "newProp");
            propertyDiv.innerHTML = `
                <h3>Property ${propertyCount} Details</h3>
                <label for="property">Property Name:</label>
                <input type="text" class="property" required>

                <label for="address">Address:</label>
                <input type="text" class="address" required>

                <div class="propertyBeneficiaryList"></div>
                <button type="button" class="button3" onclick="assignBeneficiary(this)">Assign Beneficiary</button>


            `;
            propertyList.appendChild(propertyDiv);
        }

        function assignBeneficiary(btn){

            let property = btn.parentElement;
             let listA = property.getElementsByClassName("propertyBeneficiaryList");
             let propertyBeneficiaryList = listA[0];
            const beneficiaryDiv = document.createElement('div');
            beneficiaryDiv.setAttribute("class", "benDiv");

            let allBen = document.getElementById("beneficiary-list");
            let benArr = allBen.getElementsByClassName("newBen");

            let benOptions = "";

            for (let i = 0; i < benArr.length; i++) {
                benOptions = benOptions + "<option>" + (benArr[i].getElementsByClassName("benName"))[0].value + " ("+ (benArr[i].getElementsByClassName("relation"))[0].value +") " + (benArr[i].getElementsByClassName("address"))[0].value + "</option>";
            }
            

  
            beneficiaryDiv.innerHTML = `
                <label for="beneficiary">Beneficiary:</label>
                <select class="beneficiary" required>
                    ${benOptions}
                </select>
                
                <br>
                <label for="percentage">Percentage Share:</label>
                <input type="number" class="percentage" required>%<br>
            `;
            propertyBeneficiaryList.appendChild(beneficiaryDiv);
        }

        document.getElementById('willForm').addEventListener('submit', function (e) {
            e.preventDefault();
            
            // Collect user data
            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const relationship = document.getElementById('relationship').value;
            const address = document.getElementById('address').value;
            const kidsList = document.getElementById('kidsList').value;
            const witness1 = document.getElementById('witness1').value;
            const witness2 = document.getElementById('witness2').value;

            // Generate will content (simplified)
            const willContent = `
                <h1>Last Will and Testament</h1>
                <p>I, ${name}, aged ${age}, ${relationship}, residing at ${address}, hereby declare this to be my last will and testament.</p>
                <h2>Kids and Relatives:</h2>
                <p>${kidsList}</p>
                <h2>List Properties and Assign Beneficiaries:</h2>
                <!-- Display property and beneficiary details here -->
                <h2>Witnesses:</h2>
                <p>1. ${witness1}</p>
                <p>2. ${witness2}</p>
            `;

            // Display the generated will
            document.getElementById('willContent').style.display = 'block';
            document.getElementById('willContent').innerHTML = willContent;
        });
    </script>
</body>
</html>
